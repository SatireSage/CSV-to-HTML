<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CSV Data Display</title>
    <link rel="stylesheet" href="https://cdn.datatables.net/1.11.5/css/jquery.dataTables.min.css">
    <style>
        #search-result {
            margin-top: 20px;
        }
    </style>
</head>
<body>

<h1>CSV Data Display</h1>

<div>
    <label for="search-input">Enter Search Values (comma separated):</label>
    <input type="text" id="search-input">
    <button onclick="searchData()">Search</button>
</div>

<div id="search-result">
    <!-- Search results will be displayed here -->
</div>

<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
<script src="https://cdn.datatables.net/1.11.5/js/jquery.dataTables.min.js"></script>
<script>
    // Embedded JSON data
    const data = [
    {
        "John": "Jack",
        "Doe": "McGinnis",
        "120 jefferson st.": "220 hobo Av.",
        "Riverside": "Phila",
        " NJ": " PA",
        " 08075": "09119"
    },
    {
        "John": "John \"Da Man\"",
        "Doe": "Repici",
        "120 jefferson st.": "120 Jefferson St.",
        "Riverside": "Riverside",
        " NJ": " NJ",
        " 08075": "08075"
    },
    {
        "John": "Stephen",
        "Doe": "Tyler",
        "120 jefferson st.": "7452 Terrace \"At the Plaza\" road",
        "Riverside": "SomeTown",
        " NJ": "SD",
        " 08075": " 91234"
    },
    {
        "John": "",
        "Doe": "Blankman",
        "120 jefferson st.": "",
        "Riverside": "SomeTown",
        " NJ": " SD",
        " 08075": " 00298"
    },
    {
        "John": "Joan \"the bone\", Anne",
        "Doe": "Jet",
        "120 jefferson st.": "9th, at Terrace plc",
        "Riverside": "Desert City",
        " NJ": "CO",
        " 08075": "00123"
    }
];

    // Function to search data based on input
    function searchData() {
        const input = document.getElementById('search-input').value;
        const searchValues = input.split(',').map(value => value.trim().toLowerCase());
        const keys = Object.keys(data[0]);

        // Find the column to search in (first column)
        const searchColumn = keys[0];

        const results = data.filter(item => searchValues.some(value => (item[searchColumn] || "").toString().toLowerCase().includes(value)));

        const resultDiv = document.getElementById('search-result');
        resultDiv.innerHTML = ''; // Clear previous results

        if (results.length > 0) {
            const table = document.createElement('table');
            table.id = 'result-table';
            table.className = 'display';
            const thead = document.createElement('thead');
            const tbody = document.createElement('tbody');
            const headerRow = document.createElement('tr');

            // Create table header
            keys.forEach(key => {
                const th = document.createElement('th');
                th.textContent = key;
                headerRow.appendChild(th);
            });
            thead.appendChild(headerRow);
            table.appendChild(thead);

            // Create table body
            results.forEach(result => {
                const dataRow = document.createElement('tr');
                keys.forEach(key => {
                    const td = document.createElement('td');
                    td.textContent = result[key];
                    dataRow.appendChild(td);
                });
                tbody.appendChild(dataRow);
            });
            table.appendChild(tbody);

            resultDiv.appendChild(table);

            // Initialize DataTable
            $('#result-table').DataTable();
        } else {
            resultDiv.textContent = 'No matching data found.';
        }
    }

    // Add event listener to trigger search on Enter key press
    document.getElementById('search-input').addEventListener('keyup', function(event) {
        if (event.key === 'Enter') {
            searchData();
        }
    });
</script>

</body>
</html>

