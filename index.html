<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CSV Data Display</title>
    <link rel="stylesheet" href="https://cdn.datatables.net/1.11.5/css/jquery.dataTables.min.css">
    <style>
        #search-result {
            margin-top: 20px;
        }
    </style>
</head>
<body>

<h1>CSV Data Display</h1>

<div>
    <label for="search-input">Enter Name(s) (comma separated):</label>
    <input type="text" id="search-input">
    <button onclick="searchData()">Search</button>
</div>

<div id="search-result">
    <!-- Search results will be displayed here -->
</div>

<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
<script src="https://cdn.datatables.net/1.11.5/js/jquery.dataTables.min.js"></script>
<script>
    // Embedded JSON data
    const data = [
        { "Name": "Alice", "Age": 30, "City": "New York" },
        { "Name": "Bob", "Age": 25, "City": "Los Angeles" },
        { "Name": "Charlie", "Age": 35, "City": "Chicago" }
    ];

    // Function to search data based on input
    function searchData() {
        const input = document.getElementById('search-input').value;
        const names = input.split(',').map(name => name.trim().toLowerCase());
        const results = data.filter(item => names.includes(item.Name.toLowerCase()));

        const resultDiv = document.getElementById('search-result');
        resultDiv.innerHTML = ''; // Clear previous results

        if (results.length > 0) {
            const table = document.createElement('table');
            table.id = 'result-table';
            table.className = 'display';
            const thead = document.createElement('thead');
            const tbody = document.createElement('tbody');
            const headerRow = document.createElement('tr');

            // Create table header
            for (const key in results[0]) {
                const th = document.createElement('th');
                th.textContent = key;
                headerRow.appendChild(th);
            }
            thead.appendChild(headerRow);
            table.appendChild(thead);

            // Create table body
            results.forEach(result => {
                const dataRow = document.createElement('tr');
                for (const key in result) {
                    const td = document.createElement('td');
                    td.textContent = result[key];
                    dataRow.appendChild(td);
                }
                tbody.appendChild(dataRow);
            });
            table.appendChild(tbody);

            resultDiv.appendChild(table);

            // Initialize DataTable
            $('#result-table').DataTable();
        } else {
            resultDiv.textContent = 'No matching data found.';
        }
    }

    // Add event listener to trigger search on Enter key press
    document.getElementById('search-input').addEventListener('keyup', function(event) {
        if (event.key === 'Enter') {
            searchData();
        }
    });
</script>

</body>
</html>

